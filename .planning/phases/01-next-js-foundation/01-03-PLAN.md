---
phase: 01-next-js-foundation
plan: 03
type: execute
wave: 3
depends_on:
  - 01-02
files_modified:
  - package.json
  - app/page.tsx
autonomous: false
requirements:
  - INF-03
  - INF-04
  - INF-05

must_haves:
  truths:
    - "Developer can run next dev and see localhost:3000 load without errors"
    - "Developer can run next build and production bundle is generated"
    - "Path aliases resolve correctly (no module not found errors)"
    - "Tailwind classes apply styling (no CDN warnings)"
    - "Montserrat and Inter fonts render on page"
  artifacts:
    - path: "package.json"
      provides: "Next.js dev and build scripts"
      contains: "next dev"
    - path: "app/page.tsx"
      provides: "Root route with test content"
      min_lines: 10
    - path: ".next/"
      provides: "Build output directory"
      exists_after_build: true
  key_links:
    - from: "npm run dev"
      to: "next dev command"
      via: "package.json scripts"
      pattern: '"dev":.*"next dev"'
    - from: "app/page.tsx"
      to: "app/layout.tsx"
      via: "root layout wrapper"
      pattern: "children prop in layout"
---

<objective>
Verify Next.js dev server and build process work correctly. Test path aliases, Tailwind classes, and font rendering. Update root page with test content to validate infrastructure.

Purpose: Confirm Phase 1 success criteria are met. Ensure developer can run next dev (port 3000), next build succeeds, and all configuration (fonts, Tailwind, paths) works correctly.

Output: Verified working Next.js infrastructure with dev server running and production build successful. Human-verified fonts and styling.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-next-js-foundation/01-CONTEXT.md
@.planning/phases/01-next-js-foundation/01-RESEARCH.md
@.planning/phases/01-next-js-foundation/01-01-SUMMARY.md
@.planning/phases/01-next-js-foundation/01-02-SUMMARY.md

Phase 1 success criteria (from ROADMAP):
1. Developer runs `next dev` and sees localhost:3000 load without errors
2. Developer runs `next build` and production bundle is generated successfully
3. Path aliases with @/ syntax resolve correctly in imports
4. Tailwind CSS classes apply styling (not CDN warnings)
5. Montserrat and Inter fonts render on pages
</context>

<tasks>

<task type="auto">
  <name>Update root page with test content for verification</name>
  <files>app/page.tsx</files>
  <action>
Replace app/page.tsx content with test page that validates all Phase 1 infrastructure:

```tsx
export default function Home() {
  return (
    <div className="mesh-bg min-h-screen flex items-center justify-center p-6">
      <div className="liquid-glass p-8 max-w-md w-full space-y-6">
        <h1 className="text-4xl font-montserrat font-bold text-gray-900">
          JumpIn QR Check-In
        </h1>

        <div className="space-y-3">
          <p className="text-lg font-inter text-gray-700">
            ✓ Next.js 16 App Router
          </p>
          <p className="text-lg font-inter text-gray-700">
            ✓ Tailwind CSS v3 (npm package)
          </p>
          <p className="text-lg font-inter text-gray-700">
            ✓ Google Fonts (next/font)
          </p>
          <p className="text-lg font-inter text-gray-700">
            ✓ Glassmorphism styling
          </p>
        </div>

        <div className="space-y-3">
          <input
            type="text"
            placeholder="Glass input test"
            className="glass-input w-full px-4 py-3 rounded-xl"
          />
          <button className="btn-primary-liquid w-full px-6 py-3 rounded-xl">
            Primary button test
          </button>
        </div>

        <div className="text-sm text-gray-500 font-inter">
          <p>Font test:</p>
          <p className="font-montserrat font-semibold">Montserrat (headings)</p>
          <p className="font-inter">Inter (body text)</p>
        </div>
      </div>
    </div>
  );
}
```

This page tests:
- mesh-bg class (gradient background)
- liquid-glass class (glassmorphism card)
- glass-input class (glassmorphism input)
- btn-primary-liquid class (gradient button)
- font-montserrat and font-inter utilities (custom fonts)
- Tailwind utilities (flex, items-center, space-y, etc.)

DO NOT add 'use client' directive — this is a static page with no interactivity yet.
  </action>
  <verify>
1. Run `cat app/page.tsx` to confirm test content present
2. Run `cat app/page.tsx | grep -E '(mesh-bg|liquid-glass|font-montserrat|font-inter)'` to verify classes used
3. Verify file exports default function and has no 'use client' directive
  </verify>
  <done>
app/page.tsx contains test page with mesh-bg background, liquid-glass card, glass-input, btn-primary-liquid button, and font tests (Montserrat for heading, Inter for body).
  </done>
</task>

<task type="auto">
  <name>Start dev server and verify no errors</name>
  <files>package.json</files>
  <action>
1. Verify package.json has dev script: `"dev": "next dev"`
   - If missing, add it to scripts section
   - Ensure build script exists: `"build": "next build"`
   - Ensure start script exists: `"start": "next start"`

2. Start Next.js dev server:
   ```bash
   npm run dev
   ```

3. Wait for dev server to start and check output for:
   - "Ready started server on 0.0.0.0:3000, url: http://localhost:3000" (or similar)
   - No TypeScript errors
   - No module resolution errors
   - No Tailwind configuration warnings
   - Font optimization messages (next/font downloads fonts at first run)

4. If dev server starts successfully with no errors, proceed to verification checkpoint.

5. If errors occur, diagnose and fix:
   - Module not found errors → check path aliases in tsconfig.json
   - Tailwind errors → check tailwind.config.js content paths
   - Font errors → check app/layout.tsx import from next/font/google
   - TypeScript errors → check tsconfig.json has Next.js plugin

Per research: First run may take longer as Next.js downloads and optimizes fonts. Turbopack is default bundler in Next.js 16 (faster than Webpack).

IMPORTANT: Leave dev server running for next checkpoint. Do not stop it.
  </action>
  <verify>
1. Run `cat package.json | grep '"dev"'` to confirm dev script exists
2. Run `npm run dev` and capture output
3. Check output contains "Ready" or "started server" message
4. Check output has NO error messages
5. Verify port 3000 is listening: `curl -I http://localhost:3000` returns 200 OK
  </verify>
  <done>
npm run dev starts Next.js dev server on port 3000 without errors. Server is ready and responding to requests. Dev server remains running for human verification.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Next.js dev server with test page showing glassmorphism styling, custom fonts, and Tailwind utilities. Server is running on http://localhost:3000 with test content to validate Phase 1 infrastructure.
  </what-built>
  <how-to-verify>
1. **Open browser** to http://localhost:3000

2. **Visual checks** (verify all TRUE):
   - [ ] Page loads without errors or blank screen
   - [ ] Mesh gradient background visible (subtle orange radials on white)
   - [ ] Glassmorphism card in center (frosted glass effect with blur)
   - [ ] Card has white border and soft orange shadow
   - [ ] Heading "JumpIn QR Check-In" uses Montserrat font (geometric, bold)
   - [ ] Body text uses Inter font (clean, readable)
   - [ ] Glass input has frosted appearance
   - [ ] Orange gradient button visible
   - [ ] All Tailwind spacing and layout styles apply correctly

3. **Interaction checks**:
   - [ ] Click in glass input field — border turns orange, slight upward transform
   - [ ] Hover over orange button — scales up slightly, shadow increases

4. **Browser DevTools checks**:
   - Open DevTools → Network tab
   - [ ] No fonts.googleapis.com requests (fonts self-hosted by next/font)
   - [ ] No cdn.tailwindcss.com requests (Tailwind via npm package)
   - [ ] No console errors or warnings

5. **Font rendering check**:
   - Inspect heading element in DevTools → Computed styles
   - [ ] font-family shows Montserrat (not fallback)
   - Inspect body text → Computed styles
   - [ ] font-family shows Inter (not fallback)

If all checks pass, Phase 1 infrastructure is working correctly.

If any check fails:
- Describe what's wrong (e.g., "fonts not loading", "Tailwind classes not applying")
- Include screenshots if helpful
- Check browser console for specific errors
  </how-to-verify>
  <resume-signal>
Type "approved" if all checks pass, or describe any issues observed.
  </resume-signal>
</task>

<task type="auto">
  <name>Build production bundle and verify success</name>
  <files>.next/</files>
  <action>
1. Stop dev server (Ctrl+C) if still running

2. Run production build:
   ```bash
   npm run build
   ```

3. Wait for build to complete and check output for:
   - "Compiled successfully" or similar success message
   - Route information showing "/" (root page)
   - Build size information
   - No TypeScript errors
   - No build errors or warnings

4. Verify build output:
   - Check .next/ directory exists
   - Check .next/static/ directory has CSS and JS files
   - If output: 'export' in next.config.mjs, also check out/ directory created with static HTML

5. Test production build (optional but recommended):
   ```bash
   npm run start
   ```
   - Should start production server on port 3000
   - Visit http://localhost:3000 and verify page loads identically to dev mode

Per research: output: 'export' generates static site in out/ directory. Build validates TypeScript, processes Tailwind, and optimizes fonts.

If build succeeds, Phase 1 is complete.

If build fails, diagnose and fix:
- TypeScript errors → check tsconfig.json and fix type issues
- Tailwind purge errors → check tailwind.config.js content paths
- Font optimization errors → check app/layout.tsx font imports
- Module resolution errors → check @/ path aliases
  </action>
  <verify>
1. Run `npm run build` and capture output
2. Check output contains "Compiled successfully" or similar
3. Check .next/ directory exists: `ls .next/`
4. If output: 'export', check out/ directory exists: `ls out/`
5. Check no ERROR messages in build output
6. Verify static assets generated: `ls .next/static/` shows CSS and JS files
  </verify>
  <done>
npm run build completes successfully without errors. .next/ directory contains build output with static assets. Production bundle is generated and validated. TypeScript compiles, Tailwind processes, fonts optimize successfully.
  </done>
</task>

</tasks>

<verification>
After all tasks complete, verify Phase 1 success criteria:

1. **Dev server check:**
   ```bash
   npm run dev
   # Opens on http://localhost:3000, no errors
   # Browser shows test page with glassmorphism styling
   # Fonts render correctly (verified in checkpoint)
   ```

2. **Build check:**
   ```bash
   npm run build
   # Completes successfully
   # .next/ directory contains build artifacts
   # out/ directory contains static site (if output: 'export')
   ```

3. **Path alias check:**
   - In Phase 2, components will import from @/lib/types
   - tsconfig.json baseUrl: "." and paths: "@/*": ["./*"] configured

4. **Tailwind check:**
   - Tailwind classes apply styling (verified visually in checkpoint)
   - No CDN warnings (verified in Network tab)

5. **Font check:**
   - Montserrat renders for headings (verified in checkpoint)
   - Inter renders for body text (verified in checkpoint)
   - No Google Fonts CDN requests (verified in Network tab)

All Phase 1 requirements (MIG-01, MIG-03, MIG-04, INF-01, INF-02, INF-03, INF-04, INF-05) validated.
</verification>

<success_criteria>
1. npm run dev starts Next.js dev server on port 3000 without errors
2. Browser loads http://localhost:3000 with test page visible
3. Mesh gradient background renders correctly
4. Glassmorphism card with frosted glass effect visible
5. Glass input and orange gradient button styles apply
6. Montserrat font renders for heading (human-verified in checkpoint)
7. Inter font renders for body text (human-verified in checkpoint)
8. No fonts.googleapis.com or cdn.tailwindcss.com network requests
9. npm run build completes successfully without errors
10. .next/ directory contains build output
11. All Phase 1 success criteria from ROADMAP.md met
12. All files committed to git
</success_criteria>

<output>
After completion, create `.planning/phases/01-next-js-foundation/01-03-SUMMARY.md` following the standard SUMMARY template.

Include in SUMMARY:
- Dev server startup time
- Build completion time
- Any warnings encountered and how they were resolved
- Screenshots or description from human verification checkpoint
- Path alias configuration details
- Font optimization details (self-hosting confirmed)
</output>
